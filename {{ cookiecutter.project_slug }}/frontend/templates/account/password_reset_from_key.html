{{ "{% extends 'base_landing.html' %}" }}
{{ "{% load widget_tweaks %}" }}

{{ "{% block content %}" }}
    <div class="flex justify-center items-center px-4 py-12 my-4 sm:px-6 lg:px-8">
        <div class="space-y-8 w-full max-w-md">
            <div>
                <h2 class="mt-6 text-3xl font-extrabold text-center text-gray-900">
                    {% raw %}{% if token_fail %}{% endraw %}
                        Bad Token
                    {% raw %}{% else %}{% endraw %}
                        {% raw %}{% if form %}{% endraw %}
                            Set your new password
                        {% raw %}{% else %}{% endraw %}
                            Your password is now changed
                        {% raw %}{% endif %}{% endraw %}
                    {% raw %}{% endif %}{% endraw %}
                </h2>
                {% raw %}{% if token_fail %}{% endraw %}
                    <p class="mt-2 text-sm text-center text-red-600">
                        The password reset link was invalid, possibly because it has already been used. Please request a new password reset.
                    </p>
                {% raw %}{% else %}{% endraw %}
                    {% raw %}{% if form %}{% endraw %}
                        <p class="mt-2 text-sm text-center text-gray-600">
                            Enter your new password below.
                        </p>
                    {% raw %}{% endif %}{% endraw %}
                {% raw %}{% endif %}{% endraw %}
            </div>

            {% raw %}{% if token_fail %}{% endraw %}
                <div class="text-center">
                    <a href="{% raw %}{% url 'account_reset_password' %}{% endraw %}"
                       class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-{{cookiecutter.project_main_color}}-600 rounded-md border border-transparent shadow-sm hover:bg-{{cookiecutter.project_main_color}}-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-{{cookiecutter.project_main_color}}-500">
                        Request new reset link
                    </a>
                </div>
            {% raw %}{% else %}{% endraw %}
                {% raw %}{% if form %}{% endraw %}
                    <form class="mt-8 space-y-6" method="post" action="{% raw %}{{ action_url }}{% endraw %}">
                        {{ "{% csrf_token %}" }}
                        {{ "{{ form.non_field_errors | safe }}" }}

                        <div class="-space-y-px rounded-md shadow-sm">
                            <div>
                                {{ "{{ form.password1.errors | safe }}" }}
                                <label for="password1" class="sr-only">New Password</label>
                                {{ '{% render_field form.password1 placeholder="New password" id="password1" name="password1" type="password" autocomplete="new-password" required=True class="block relative px-3 py-2 w-full placeholder-gray-500 text-gray-900 rounded-none rounded-t-md border border-gray-300 appearance-none focus:outline-none focus:ring-{{cookiecutter.project_main_color}}-500 focus:border-{{cookiecutter.project_main_color}}-500 focus:z-10 sm:text-sm" %}' }}
                            </div>
                            <div>
                                {{ "{{ form.password2.errors | safe }}" }}
                                <label for="password2" class="sr-only">Confirm Password</label>
                                {{ '{% render_field form.password2 placeholder="Confirm new password" id="password2" name="password2" type="password" autocomplete="new-password" required=True class="block relative px-3 py-2 w-full placeholder-gray-500 text-gray-900 rounded-none rounded-b-md border border-gray-300 appearance-none focus:outline-none focus:ring-{{cookiecutter.project_main_color}}-500 focus:border-{{cookiecutter.project_main_color}}-500 focus:z-10 sm:text-sm" %}' }}
                            </div>
                        </div>

                        <div>
                            <button type="submit"
                                    class="flex relative justify-center px-4 py-2 w-full text-sm font-medium text-white bg-{{cookiecutter.project_main_color}}-600 rounded-md border border-transparent border-solid group hover:bg-{{cookiecutter.project_main_color}}-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-{{cookiecutter.project_main_color}}-500">
                                Change password
                            </button>
                        </div>
                    </form>
                {% raw %}{% endif %}{% endraw %}
            {% raw %}{% endif %}{% endraw %}
        </div>
    </div>
{{ "{% endblock content %}" }}
